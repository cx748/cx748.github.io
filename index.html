<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Vue" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/16/Vue/" class="article-date">
  <time datetime="2020-07-16T01:34:38.485Z" itemprop="datePublished">2020-07-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/16/Vue/">Vue</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Vue的生命周期"><a href="#Vue的生命周期" class="headerlink" title="Vue的生命周期"></a>Vue的生命周期</h2><p>beforeCreate(创建前) 在数据观测和初始化还没有开始<br>created(创建后) 完成数据观测，属性和方法的运算，初始化时间，还没有开始渲染<br>beforeMount(载入前) 在挂载开始之前被调用。Vue实例完成编译模板，把data里面的数据和模板生成html，但是html并没有被挂载到页面上<br>Mounted(载入后) 在el被新创建的vm.$el替换，并挂载到实例上去之后调用。此时vue实例已经完成把html渲染到html页面<br>beforeUpdate(更新前) 数据更新前调用，这个时候不会触发附加的重渲染过程<br>updated(更新后) 数据更改导致的虚拟Dom重新渲染之后调用。调用时组件DOM已经更新<br>beforeDestroy(销毁前) 实例销毁之前调用，实例仍然可用<br>destroyed(销毁后) 在实例销毁之后调用，调用后所有事件监听会被移除，子实例也会被销毁  </p>
<h3 id="什么vue生命周期"><a href="#什么vue生命周期" class="headerlink" title="什么vue生命周期"></a>什么vue生命周期</h3><p>Vue实例从创建到销毁的过程</p>
<h3 id="vue生命周期的作用是什么"><a href="#vue生命周期的作用是什么" class="headerlink" title="vue生命周期的作用是什么"></a>vue生命周期的作用是什么</h3><p>生命周期中有多个事件钩子，让我们能更好的控制整个VUe实例的过程</p>
<h3 id="第一次加载页面会触发哪些钩子"><a href="#第一次加载页面会触发哪些钩子" class="headerlink" title="第一次加载页面会触发哪些钩子"></a>第一次加载页面会触发哪些钩子</h3><p>创建前后，载入前后</p>
<h3 id="Dom渲染在哪个周期中完成"><a href="#Dom渲染在哪个周期中完成" class="headerlink" title="Dom渲染在哪个周期中完成"></a>Dom渲染在哪个周期中完成</h3><p>mounted中完成Dom渲染</p>
<h2 id="对于MVVM的理解"><a href="#对于MVVM的理解" class="headerlink" title="对于MVVM的理解"></a>对于MVVM的理解</h2><p>MVVM是Model-view-ViewModel的缩写<br>Model代表的数据模型<br>View代表UI组件，负责将数据模型转换成UI展现出来<br>ViewModel 监听模型数据的改变和控制视图的行为，处理用户交互，用来同步View和Model的对象<br>ViewModel 通过双向数据绑定把View层和Model层连接了起来，而View和Model之间的同步工作完全是自动的。开发者只需关系业务逻辑，不需要手动操作DOM，不需要关注数据状态的同步问题，复杂的数据状态维护完全有MVVM来同一管理。</p>
<h2 id="双向数据绑定"><a href="#双向数据绑定" class="headerlink" title="双向数据绑定"></a>双向数据绑定</h2><p>原理主要是，采用数据劫持结合发布者-订阅者模式的方式，通过Object.defineProperty()来劫持各个属性的setter和getter，当数据变动时发布消息给订阅者，然后触发监听回调。</p>
<h2 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h2><h3 id="全局指令"><a href="#全局指令" class="headerlink" title="全局指令"></a>全局指令</h3><p>直接调用vue的的directive方法</p>
<h3 id="局部指令"><a href="#局部指令" class="headerlink" title="局部指令"></a>局部指令</h3><p>在vue实例里定义directive对象</p>
<h2 id="Vue组件间的参数传递"><a href="#Vue组件间的参数传递" class="headerlink" title="Vue组件间的参数传递"></a>Vue组件间的参数传递</h2><h3 id="父组件与子组件传值"><a href="#父组件与子组件传值" class="headerlink" title="父组件与子组件传值"></a>父组件与子组件传值</h3><p>父组件传给子组件：组件用v-bind传值，子组件通过props方法接收数据<br>子组件传给父组件，$emit方法传递参数</p>
<h3 id="兄弟组件传值"><a href="#兄弟组件传值" class="headerlink" title="兄弟组件传值"></a>兄弟组件传值</h3><h4 id="把数据放在他们的父组件，通过父组件通信"><a href="#把数据放在他们的父组件，通过父组件通信" class="headerlink" title="把数据放在他们的父组件，通过父组件通信"></a>把数据放在他们的父组件，通过父组件通信</h4><h4 id="借助PubSubJs库"><a href="#借助PubSubJs库" class="headerlink" title="借助PubSubJs库"></a>借助PubSubJs库</h4><p>订阅消息 PubSub.subscribe(‘msg’,data){}<br>发布消息 PubSub.publish(‘msh’,data)</p>
<h4 id="通过Vuex插件实现"><a href="#通过Vuex插件实现" class="headerlink" title="通过Vuex插件实现"></a>通过Vuex插件实现</h4><h2 id="Vue-router"><a href="#Vue-router" class="headerlink" title="Vue-router"></a>Vue-router</h2><p>vue-router是vue.js的官方路由管理器，用于构建单页应用</p>
<h3 id="单页应用的优缺点"><a href="#单页应用的优缺点" class="headerlink" title="单页应用的优缺点"></a>单页应用的优缺点</h3><p>优点： 有很好的交互体验，用户不需要重新刷新页面。 良好的前后端分离模式。减轻服务器压力，服务器只需要提供数据<br>缺点：不能使用浏览器的前进后退管理；初次加载耗时较多</p>
<h3 id="router和route的区别"><a href="#router和route的区别" class="headerlink" title="$router和route的区别"></a>$router和route的区别</h3><p>$route是路由信息对象，包括path,params,hash,name等路由信息参数，而$router是’路由实例’对象，包括了跳转方法和钩子函数。</p>
<h3 id="怎么定义Vue-router的动态路由，如何获取传过来的值"><a href="#怎么定义Vue-router的动态路由，如何获取传过来的值" class="headerlink" title="怎么定义Vue-router的动态路由，如何获取传过来的值"></a>怎么定义Vue-router的动态路由，如何获取传过来的值</h3><p>在router目录下的index.js文件中，对path属性加上/:id，使用router对象的params.id获取</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/16/Vue/" data-id="ckct5amfa0003zow43ki47gkr" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-webpack面试" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/15/webpack%E9%9D%A2%E8%AF%95/" class="article-date">
  <time datetime="2020-07-15T13:36:16.479Z" itemprop="datePublished">2020-07-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/15/webpack%E9%9D%A2%E8%AF%95/">webpack面试</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="loader和plugin的不同"><a href="#loader和plugin的不同" class="headerlink" title="loader和plugin的不同"></a>loader和plugin的不同</h2><ul>
<li>loader是使webpack拥有加载和解析非JS文件的能力</li>
<li>plugin可以扩展webpack的功能，使得webpack更加灵活。可以在构建过程中通过webpack的api更改输出的结果</li>
</ul>
<h2 id="webpack的构建流程"><a href="#webpack的构建流程" class="headerlink" title="webpack的构建流程"></a>webpack的构建流程</h2><ol>
<li>初始化参数： 从配置文件和shell语句读到的参数合并，得到最后的参数</li>
<li>开始编译：用合并得到的参数初始化complier对象，加载所有的插件，执行run开始编译</li>
<li>确定入口，根据entry找到入口文件</li>
<li>编译模块，从入口文件出发，调用所有配置的loader对模块进行解析翻译</li>
<li>完成模块编译，得到每个模块被翻译之后的最终内容和依赖关系</li>
<li>输出资源，根据入口和模块的依赖关系，组装成一个个包含多个模块的chunk，在把每个chunk转换成一个单独的文件加载到输出列表</li>
<li>输出完成，确定输出的路径和文件名，把内容写到文件系统中</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/15/webpack%E9%9D%A2%E8%AF%95/" data-id="ckct5amfb0005zow4gn0w9n42" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JS07-生成器函数与promise" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/15/JS07-%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0%E4%B8%8Epromise/" class="article-date">
  <time datetime="2020-07-15T13:15:10.797Z" itemprop="datePublished">2020-07-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/15/JS07-%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0%E4%B8%8Epromise/">JS07-生成器函数与promise</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="生成器generator函数"><a href="#生成器generator函数" class="headerlink" title="生成器generator函数"></a>生成器generator函数</h2><p>生成器函数能生成一组值的序列，但是每个值的生成都是基于一次请求，我们必须显示的向生成器请求一个新的值，随后生成器响应一个新生成的值，或者告诉我们它不会再生成新的值。</p>
<h3 id="创建生成器函数"><a href="#创建生成器函数" class="headerlink" title="创建生成器函数"></a>创建生成器函数</h3><p>在关键字function后面加一个 * 就能定义一个生成器函数，这样一来生成器内部就能使用新关键子yield生成独立的值。<br><img src="../Img/%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0.png" alt="生成器函数"></p>
<h3 id="迭代器对象控制生成器"><a href="#迭代器对象控制生成器" class="headerlink" title="迭代器对象控制生成器"></a>迭代器对象控制生成器</h3><p>调用生成器并不会执行生成器函数，它会创建一个叫作迭代器（iterator）的对象。这个迭代器对象暴露一个next方法，这个方法可以用来向生成器请求一个值，从而控制生成器。调用next方法后，生成器就会开始执行代码，执行到yeild关键字时，就会生成一个中间结果，然后返回一个新对象，新对象封装了结果值和一个指示完成的指示器。<br>每当生成一个值后，生成器都会不阻塞的挂起。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>* <span class="title">WeaponGenerator</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="keyword">yield</span> <span class="string">"Katana"</span>;</span><br><span class="line"><span class="keyword">yield</span> <span class="string">"Wakizashi"</span>;</span><br><span class="line">&#125; <span class="comment">// 定义一个生成器，它能生成一个包含两个武器数据的序列</span></span><br><span class="line"><span class="keyword">const</span> weaponsIterator = WeaponGenerator(); <span class="comment">// 调用生成器得到一个迭代器，从而我们能够控制生成器的执行</span></span><br><span class="line"><span class="keyword">const</span> result1 = weaponsIterator.next();<span class="comment">// 调用迭代器的next方法向生成器请求一个新值</span></span><br><span class="line">assert(<span class="keyword">typeof</span> result1 === <span class="string">"object"</span></span><br><span class="line">&amp;&amp; result1.value === <span class="string">"Katana"</span></span><br><span class="line">&amp;&amp; !result1.done,</span><br><span class="line"><span class="string">"Katana received!"</span>);<span class="comment">// 结果为一个对象，其中包含着一个返回值，及一个指示器告诉我们生成器是否还会生成值</span></span><br><span class="line"><span class="keyword">const</span> result2 = weaponsIterator.next();</span><br><span class="line">assert(<span class="keyword">typeof</span> result2 === <span class="string">"object"</span></span><br><span class="line">&amp;&amp; result2.value === <span class="string">"Wakizashi"</span></span><br><span class="line">&amp;&amp; !result2.done,</span><br><span class="line"><span class="string">"Wakizashi received!"</span>); <span class="comment">// 再次调用next方法从生成器中获取新值</span></span><br><span class="line"><span class="keyword">const</span> result3 = weaponsIterator.next();</span><br><span class="line">assert(<span class="keyword">typeof</span> result3 === <span class="string">"object"</span></span><br><span class="line">&amp;&amp; result3.value === <span class="literal">undefined</span></span><br><span class="line">&amp;&amp; result3.done,</span><br><span class="line"><span class="string">"There are no more results!"</span>); <span class="comment">// 当没有可执行的代码，生成器就会返回“undefined”值，表示它的状态为已经完成</span></span><br></pre></td></tr></table></figure>
<h3 id="使用生成器"><a href="#使用生成器" class="headerlink" title="使用生成器"></a>使用生成器</h3><h3 id="与生成器交互"><a href="#与生成器交互" class="headerlink" title="与生成器交互"></a>与生成器交互</h3><h3 id="生成器内部构成"><a href="#生成器内部构成" class="headerlink" title="生成器内部构成"></a>生成器内部构成</h3><h2 id="promise"><a href="#promise" class="headerlink" title="promise"></a>promise</h2><h3 id="使用promise"><a href="#使用promise" class="headerlink" title="使用promise"></a>使用promise</h3><p>Promise是异步编程的一种解决方案，避免了层层嵌套的回调函数<br>简单来说，它是一个容器，里面保存着某个未来才会结束事件的结果；从语法上来说，Promise是一个对象，从它可以获取异步操作的消息。<br>Promise有三种状态，pending，fulfilled, rejected。只有异步操作的结果能决定当前是哪一种状态。当pending状态变为fulfilled或者pending状态变为rejected状态后，状态就不会再发生变化了。此时再对Promise添加回调函数也会立即得到这个结果。  </p>
<p>缺点：无法取消Promise，Promise内部抛出的内部不会反应到外部，当处于pending状态时，无法得知目前进展到哪一阶段。  </p>
<p>在ES6中，Promise是一个构造函数，用来生成Promise实例。Promise构造函数接受一个函数作为参数，这个函数有两个参数<code>resolve</code>和<code>reject</code>，他们是两个函数。<code>resolve</code>将Promise对象的状态从pending转为fulfilled，函数在异步操作成功时调用，并将异步操作的结果作为参数传递出去，<code>reject</code>将Promise对象的状态从pending转为rejected，在异步操作失败时调用，并将异步操作报出的错误作为参数传递出去。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="string">'/*异步操作成功*/'</span>)&#123;</span><br><span class="line">    resolve(value)</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    reject(error)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Promise实例生成以后，可以用then方法指定Promise在fulfilled状态和rejected状态的回调函数。then方法可以接受两个回调函数作为参数，第一个回调函数是Promise对象的状态变为fullfilled时调用，第二个回调函数是可选的，在Promise对象的状态变为rejected时调用。这两个回调函数都接受Promise对象传出的值作为参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">promise.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Promise的一个简单的例子</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">timeout</span>(<span class="params">ms</span>) </span>&#123; <span class="comment">// 函数timeout返回了一个Promise实例</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(resolve, ms, <span class="string">'done'</span>) <span class="comment">// 过了ms时间后，调用resolve函数，将Promise状态变为resolved，</span></span><br><span class="line">    <span class="comment">//并将'done'作为异步操作结果作为参数传递给resolve。</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">timeout(<span class="number">1000</span>).then( <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;  <span class="comment">//在Promise状态变为fullfilled时调用这个箭头回调函数</span></span><br><span class="line">  alert(value)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>再来看一个例子</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'promise'</span>);</span><br><span class="line">  resolve()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">promise.then(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'fullfilled'</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'Hello'</span>);</span><br><span class="line"><span class="comment">// promise</span></span><br><span class="line"><span class="comment">// Hello</span></span><br><span class="line"><span class="comment">// fullFilled</span></span><br></pre></td></tr></table></figure>
<p>这个Promise实例新建后会立即执行，然后就会打印promise，然后resolve()将promise状态变为fullfilled，然后，promise的then方法指定的回调函数属于微任务，会在宏任务执行完才会执行，所以fullfilled最后输出。  </p>
<p>下面看一个异步加载图片的例子</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadImgAsync</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span> (<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">const</span> image = <span class="keyword">new</span> Image();</span><br><span class="line"></span><br><span class="line">    image.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      resolve(image);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    image.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'can not get image at'</span> + url));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    image.src = url;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面代码中，使用Promise包装了一个图片加载的异步操作。如果加载成功，就调用resolve方法，否则就调用reject方法</p>
<p>下面看一个用Promise对象实现Ajax操作的例子</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getJSON = <span class="function"><span class="keyword">function</span>(<span class="params">url</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> handler = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="keyword">this</span>.readyState !== <span class="number">4</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(<span class="keyword">this</span>.status === <span class="number">200</span>) &#123;</span><br><span class="line">        resolve(<span class="keyword">this</span>.response);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="keyword">this</span>.statusText));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">const</span> client = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">    client.open(<span class="string">"GET"</span>,url);</span><br><span class="line">    client.onreadystatechange = hadler;</span><br><span class="line">    client.responseTyoe = <span class="string">"json"</span></span><br><span class="line">    client.setRequestsHeader(<span class="string">"Accept"</span>,<span class="string">"application"</span>);</span><br><span class="line">    client.send();</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> promise;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">geJSON(<span class="string">"/posts.json"</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">json</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Contents: '</span> + json);</span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">error</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'出错了'</span>,error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="处理拒绝promise"><a href="#处理拒绝promise" class="headerlink" title="处理拒绝promise"></a>处理拒绝promise</h3><p>拒绝promise有两种方式，显示拒绝和隐式拒绝</p>
<ol>
<li>显示拒绝，在一个Promise执行函数中调用传入的reject函数，然后then的第二个回调函数会被调用<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">  reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"显示拒绝promise"</span>))</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.then(</span><br><span class="line">  () =&gt; <span class="built_in">console</span>.log(<span class="string">"没有被拒绝"</span>),</span><br><span class="line">  error =&gt; <span class="built_in">console</span>.log(error);</span><br><span class="line">)</span><br></pre></td></tr></table></figure></li>
<li>隐式拒绝，正处理一个promise的过程中抛出一个异常，链式调用catch来处理<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>) =&gt;</span> &#123;</span><br><span class="line">  something++</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">promise.then(</span><br><span class="line">  () =&gt; <span class="built_in">console</span>.log(<span class="string">"没有被拒绝"</span>)</span><br><span class="line">).catch(</span><br><span class="line">  error =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'隐式拒绝'</span>, error)</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="promiseAll的实现"><a href="#promiseAll的实现" class="headerlink" title="promiseAll的实现"></a>promiseAll的实现</h3></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/15/JS07-%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0%E4%B8%8Epromise/" data-id="ckct5amfb0004zow4hs4d1y5q" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-事件循环" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/15/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/" class="article-date">
  <time datetime="2020-07-15T08:05:28.047Z" itemprop="datePublished">2020-07-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/15/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/">事件循环</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/15/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/" data-id="ckct5amey0000zow493n0ftmx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-canvas" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/15/canvas/" class="article-date">
  <time datetime="2020-07-15T07:35:11.623Z" itemprop="datePublished">2020-07-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/15/canvas/">canvas</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="绘制矩形"><a href="#绘制矩形" class="headerlink" title="绘制矩形"></a>绘制矩形</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> canvas = <span class="built_in">document</span>.getElementById(<span class="string">''</span>);</span><br><span class="line"><span class="keyword">var</span> ctx = canvas.getContext(<span class="string">"2d"</span>);</span><br><span class="line"></span><br><span class="line">ctx.fillRect(x,y,width,height) <span class="comment">//填充矩形</span></span><br><span class="line">ctx.strokeRect(x,y,width,height) <span class="comment">//轮廓填充</span></span><br><span class="line">ctx.clearRect(x, y, width, height) <span class="comment">//清楚矩形区域</span></span><br></pre></td></tr></table></figure>
<h2 id="绘制路径"><a href="#绘制路径" class="headerlink" title="绘制路径"></a>绘制路径</h2><ol>
<li>创建路径起始点</li>
<li>画图命令画出路径</li>
<li>把路径闭合</li>
<li>路径生成之后，可以通过描边或者填充来 渲染路径<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ctx.beginPath() <span class="comment">//新建路径 </span></span><br><span class="line">ctx.closePath() <span class="comment">// 闭合路径</span></span><br><span class="line">ctx.stroke() <span class="comment">//通过线条来绘制轮廓</span></span><br><span class="line">ctx.fill() <span class="comment">//通过填充路径的内容区域生成实心的图形</span></span><br><span class="line"></span><br><span class="line">moveTo(x,y) <span class="comment">//将笔触移动到指定的x以及y上</span></span><br><span class="line">lineTo(x,y)</span><br><span class="line"></span><br><span class="line">ctx.arc(x, y, radius, startAngle, endAngle, anticlockwise) <span class="comment">//画一个以（x,y）为圆心的以radius为半径的圆弧（圆），从startAngle开始到endAngle结束，按照anticlockwise给定的方向（默认为顺时针）来生成。</span></span><br><span class="line"></span><br><span class="line">quadraticCurveTo(cp1x, cp1y, x, y)</span><br><span class="line"><span class="comment">//绘制二次贝塞尔曲线，cp1x,cp1y为一个控制点，x,y为结束点。</span></span><br><span class="line">bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)</span><br><span class="line"><span class="comment">//绘制三次贝塞尔曲线，cp1x,cp1y为控制点一，cp2x,cp2y为控制点二，x,y为结束点。</span></span><br></pre></td></tr></table></figure>
<h2 id="线形"><a href="#线形" class="headerlink" title="线形"></a>线形</h2>lineWidth = value 设置线条宽度。<br>lineCap = type<br>设置线条末端样式。<br>lineJoin = type<br>设定线条与线条间接合处的样式。<br>miterLimit = value<br>限制当两条线相交时交接处最大长度；所谓交接处长度（斜接长度）是指线条交接处内角顶点到外角顶点的长度。<br>getLineDash()<br>返回一个包含当前虚线样式，长度为非负偶数的数组。<br>setLineDash(segments)<br>设置当前虚线样式。<br>lineDashOffset = value<br>设置虚线样式的起始偏移量。  <h2 id="渐变-Gradients"><a href="#渐变-Gradients" class="headerlink" title="渐变 Gradients"></a>渐变 Gradients</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ctx = <span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>).getContext(<span class="string">'2d'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Create gradients</span></span><br><span class="line">  <span class="keyword">var</span> lingrad = ctx.createLinearGradient(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">150</span>);</span><br><span class="line">  lingrad.addColorStop(<span class="number">0</span>, <span class="string">'#00ABEB'</span>);</span><br><span class="line">  lingrad.addColorStop(<span class="number">0.5</span>, <span class="string">'#fff'</span>);</span><br><span class="line">  lingrad.addColorStop(<span class="number">0.5</span>, <span class="string">'#26C000'</span>);</span><br><span class="line">  lingrad.addColorStop(<span class="number">1</span>, <span class="string">'#fff'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> lingrad2 = ctx.createLinearGradient(<span class="number">0</span>,<span class="number">50</span>,<span class="number">0</span>,<span class="number">95</span>);</span><br><span class="line">  lingrad2.addColorStop(<span class="number">0.5</span>, <span class="string">'#000'</span>);</span><br><span class="line">  lingrad2.addColorStop(<span class="number">1</span>, <span class="string">'rgba(0,0,0,0)'</span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// assign gradients to fill and stroke styles</span></span><br><span class="line">  ctx.fillStyle = lingrad;</span><br><span class="line">  ctx.strokeStyle = lingrad2;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// draw shapes</span></span><br><span class="line">  ctx.fillRect(<span class="number">10</span>,<span class="number">10</span>,<span class="number">130</span>,<span class="number">130</span>);</span><br><span class="line">  ctx.strokeRect(<span class="number">50</span>,<span class="number">50</span>,<span class="number">50</span>,<span class="number">50</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<p><img src="https://developer.mozilla.org/@api/deki/files/87/=Canvas_lineargradient.png" alt="adatar"></p>
<h2 id="图案样式"><a href="#图案样式" class="headerlink" title="图案样式"></a>图案样式</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ctx.createPatten(img,type)<span class="comment">//type取值为repeat repeat-x repeat-y no-repeat</span></span><br></pre></td></tr></table></figure>
<h2 id="阴影"><a href="#阴影" class="headerlink" title="阴影"></a>阴影</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">draw</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> ctx=<span class="built_in">document</span>.getElementById(<span class="string">'canvas'</span>).getContext(<span class="string">'2d'</span>);</span><br><span class="line">  ctx.shadowOffsetX = <span class="number">2</span>; <span class="comment">//向右偏移</span></span><br><span class="line">  ctx.shadowOffsetY = <span class="number">2</span>; <span class="comment">//向下偏移</span></span><br><span class="line">  ctx.shadowBlur = <span class="number">2</span>; <span class="comment">//模糊</span></span><br><span class="line">  ctx.shadowColor = <span class="string">"rgba(0,0,0,0.5)"</span>;</span><br><span class="line"></span><br><span class="line">  ctx.font = <span class="string">"20px times new roman"</span>;</span><br><span class="line">  ctx.fillStyle= <span class="string">"black"</span>;</span><br><span class="line">  ctx.fillText = (<span class="string">"sample string"</span>,<span class="number">5</span>,<span class="number">30</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="使用图像"><a href="#使用图像" class="headerlink" title="使用图像"></a>使用图像</h1><p>引入图像到canvas主要有两个步骤  </p>
<ol>
<li>获得一个图片源或者canvas元素</li>
<li>使用drawImage()函数将图片绘在画布上</li>
</ol>
<h2 id="获得图片"><a href="#获得图片" class="headerlink" title="获得图片"></a>获得图片</h2><p>canvas的API可以使用下面类型中的一种作为图片的源</p>
<ol>
<li>HTMLImageElement：这些图片是有由Image函数构造出来的，或者任何的&lt;img&gt;元素。</li>
<li>HTMLVideoElement元素：用一个HTML的&lt;Video&gt;元素作为图片源，可是从视频中抓取当前帧作为一个图像</li>
<li>HTMLCanvasElement元素，可以使用另外一个&lt;canvas&gt;作为图片源</li>
<li>ImageBitmap：这是一个高性能的位图，可以低延迟地绘制，它可以从上述的所有源以及其它几种源中生成</li>
</ol>
<p>这些源统一由 CanvasImageSource类型来引用。</p>
<h2 id="绘制图片"><a href="#绘制图片" class="headerlink" title="绘制图片"></a>绘制图片</h2><p>drawImage(image, x, y)<br>其中 image 是 image 或者 canvas 对象，x 和 y 是其在目标 canvas 里的起始坐标.<br>drawImage(image,x,y,wdith,height)<br>这个方法多了2个参数：width 和 height，这两个参数用来控制 当向canvas画入时应该缩放的大小.<br>drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)<br>第一个参数和其它的是相同的，都是一个图像或者另一个 canvas 的引用。其它8个参数参照右图解，前4个是定义图像源的切片位置和大小，后4个则是定义切片的目标显示位置和大小。<br><img src="https://developer.mozilla.org/@api/deki/files/79/=Canvas_drawimage.jpg" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/15/canvas/" data-id="ckct5amfd0007zow42blbb0hv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-DOM操作" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/15/DOM%E6%93%8D%E4%BD%9C/" class="article-date">
  <time datetime="2020-07-15T07:10:08.511Z" itemprop="datePublished">2020-07-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/15/DOM%E6%93%8D%E4%BD%9C/">DOM操作</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 查找节点</span></span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">"id"</span>); <span class="comment">// 通过id查找</span></span><br><span class="line"><span class="built_in">document</span>.getElementByClassName(<span class="string">"class"</span>) <span class="comment">// 通过class查找</span></span><br><span class="line"><span class="built_in">document</span>.getElementByTagName(<span class="string">"div"</span>) <span class="comment">// 通过标签查找</span></span><br><span class="line"><span class="comment">//创建节点</span></span><br><span class="line"><span class="built_in">document</span>.createDocumentFragment(); <span class="comment">// 内存文档碎片</span></span><br><span class="line"><span class="built_in">document</span>.createElement(); <span class="comment">// 创建元素</span></span><br><span class="line"><span class="built_in">document</span>.createTextNode(); <span class="comment">// 创建文本节点</span></span><br><span class="line"><span class="comment">//添加节点</span></span><br><span class="line"><span class="keyword">var</span> ele = <span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>)</span><br><span class="line"><span class="keyword">var</span> oldELe = <span class="built_in">document</span>.createElement(<span class="string">"p"</span>)</span><br><span class="line"><span class="keyword">var</span> newEle = <span class="built_in">document</span>.createElement(<span class="string">"div"</span>)</span><br><span class="line">ele.appendChild(oldEle)</span><br><span class="line"><span class="comment">// 删除节点</span></span><br><span class="line">ele.removeChild(oldELe)</span><br><span class="line"><span class="comment">// 替换节点</span></span><br><span class="line">ele.replaceChild(newEle, oldELe)</span><br><span class="line"><span class="comment">// 插入节点</span></span><br><span class="line">ele.insertBefore(oldELe, newEle)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/15/DOM%E6%93%8D%E4%BD%9C/" data-id="ckct5amf90002zow4ec8qftuy" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-面试问题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/15/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/" class="article-date">
  <time datetime="2020-07-15T06:07:56.641Z" itemprop="datePublished">2020-07-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/15/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/">面试问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="跟谁学"><a href="#跟谁学" class="headerlink" title="跟谁学"></a>跟谁学</h1><h2 id="一面-凉"><a href="#一面-凉" class="headerlink" title="一面(凉)"></a>一面(凉)</h2><h3 id="html5新特性"><a href="#html5新特性" class="headerlink" title="html5新特性"></a>html5新特性</h3><ol>
<li>画布canvas</li>
<li>媒介元素video和audio</li>
<li>本地离线存储localStoreage</li>
<li>语义化更好的内容元素，如article，footer，header, nav, section</li>
<li>表单控件</li>
<li>新的技术webSocket<h3 id="webSocket"><a href="#webSocket" class="headerlink" title="webSocket"></a>webSocket</h3></li>
</ol>
<h3 id="html的语义化"><a href="#html的语义化" class="headerlink" title="html的语义化"></a>html的语义化</h3><ul>
<li>让页面的内容结构化，便于浏览器和搜索引擎解析</li>
<li>在没有样式CSS的情况下也以一种文档格式显示，便于阅读</li>
<li>阅读源代码的人对网站更容易将网站分块，便于维护理解</li>
</ul>
<h3 id="解释一下闭包"><a href="#解释一下闭包" class="headerlink" title="解释一下闭包"></a>解释一下闭包</h3><p>理论上来说，闭包是由两个部分组成：闭包函数和及其词法环境，创建任何函数时都会产生一个闭包。嵌套函数形成的闭包可以让函数访问并操作函数外部的变量。</p>
<h3 id="闭包的原理，闭包是如何产生的"><a href="#闭包的原理，闭包是如何产生的" class="headerlink" title="闭包的原理，闭包是如何产生的"></a>闭包的原理，闭包是如何产生的</h3><p>调用函数时，除了会生成自己的局部变量，还会保持着对创建这个函数时的词法环境的引用。</p>
<h3 id="闭包的作用"><a href="#闭包的作用" class="headerlink" title="闭包的作用"></a>闭包的作用</h3><ol>
<li>可以读取函数内部的变量，模拟私有变量</li>
<li>可以将变量的值始终保存在内存中 — 这样会造成内存泄漏<h3 id="如何解决闭包造成的内存泄漏"><a href="#如何解决闭包造成的内存泄漏" class="headerlink" title="如何解决闭包造成的内存泄漏"></a>如何解决闭包造成的内存泄漏</h3>把NULL赋值给想要处理的造成内存泄漏的变量</li>
</ol>
<h3 id="new一个构造函数发生了什么"><a href="#new一个构造函数发生了什么" class="headerlink" title="new一个构造函数发生了什么"></a>new一个构造函数发生了什么</h3><ol>
<li>首先会创造一个空的对象</li>
<li>然后将this指向新创建的对象</li>
<li>接下来将对象的_proto_指向构造函数的原型prototype,建立对象和原型的对应关系</li>
<li>最后执行构造函数中的代码</li>
</ol>
<h3 id="解释一下原型，原型链"><a href="#解释一下原型，原型链" class="headerlink" title="解释一下原型，原型链"></a>解释一下原型，原型链</h3><p>每个对象(除了Object.prototype，即使原型链上的最后一个原型)都会在其内部初始化一个属性<code>[[prototype]]</code>，<code>_proto_</code>是<code>[[prototype]]</code>的getter/setter。在访问一个对象的属性时，如果这个对象内部不存在这个属性，他就会去他的原型里查找，原型又有自己的原型，然后这个查找就就会形成一个链，这个链就是我们所说的原型链。</p>
<h3 id="实例属性与原型属性"><a href="#实例属性与原型属性" class="headerlink" title="实例属性与原型属性"></a>实例属性与原型属性</h3><p>实例属性如果和原型属性同名的话，实例属性的优先级较高</p>
<h3 id="是不是所有对象都有原型"><a href="#是不是所有对象都有原型" class="headerlink" title="是不是所有对象都有原型"></a>是不是所有对象都有原型</h3><p>对象构造函数Object的prototype没有原型</p>
<h3 id="构造函数继承和原型继承"><a href="#构造函数继承和原型继承" class="headerlink" title="构造函数继承和原型继承"></a>构造函数继承和原型继承</h3><ol>
<li>构造函数继承：将一个构造函数A的原型设置成另一个构造函数B的实例。则构造函数A的实例对象的原型链上就有了构造函数B的原型，也就具有了构造函数B的原型上的属性。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">People</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">People.prototype.dance = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Ninja</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">Ninja.prototype = <span class="keyword">new</span> People();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ninja = <span class="keyword">new</span> Ninja();</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> ninja.dance == <span class="function"><span class="keyword">function</span>); // <span class="title">true</span></span></span><br><span class="line"><span class="function"><span class="title">console</span>.<span class="title">log</span>(<span class="params">ninja instanceof Ninja</span>); // <span class="title">true</span></span></span><br><span class="line"><span class="function"><span class="title">console</span>.<span class="title">log</span>(<span class="params">ninja instanceof People</span>); // <span class="title">true</span></span></span><br></pre></td></tr></table></figure></li>
<li>原型继承: 将People的原型对象作为Ninja的原型，如Ninja.prototype = People.prototype。但是这么做会让People原型上的所有变化都被同步到Ninja原型上<h3 id="for…in"><a href="#for…in" class="headerlink" title="for…in"></a>for…in</h3>for..in 循环在其自身和继承的属性上进行迭代。所有其他的键/值获取方法仅对对象本身起作用。<h3 id="class"><a href="#class" class="headerlink" title="class"></a>class</h3><h4 id="基本的类的语法"><a href="#基本的类的语法" class="headerlink" title="基本的类的语法"></a>基本的类的语法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Myclass</span> </span>&#123;</span><br><span class="line">  prop = value; <span class="comment">// 属性值</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(...)&#123;</span><br><span class="line">    <span class="comment">// 构造器</span></span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  methods()&#123;</span><br><span class="line"></span><br><span class="line">  &#125;; <span class="comment">// 类的方法</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">get</span> something()&#123;</span><br><span class="line"></span><br><span class="line">  &#125;; <span class="comment">// getter方法</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">set</span> something()&#123;</span><br><span class="line"></span><br><span class="line">  &#125;; <span class="comment">// setter方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
技术上来说，MyClass是一个函数(提供为<code>constructor</code>的那个)，而methods,getters,setters都被写入到class.prototype里了。<h4 id="class的继承"><a href="#class的继承" class="headerlink" title="class的继承"></a>class的继承</h4></li>
<li>想要扩展一个类：<code>class Child extends Parent</code>这意味着<code>Child.prototype._proto_</code>将是<code>Parent.prototype</code>，所以父类的方法会被继承</li>
<li>重写方法：在Child方法中使用<code>super.method()</code>来调用Parent方法</li>
<li>重写一个constuctor：如果一个类扩展了另一个类，并且没有定义constructor，那么这个类的constructor为空的函数。在使用 this 之前，我们必须在 Child 的 constructor 中将<code>父constructor</code> 调用为<code>super()</code>。</li>
</ol>
<h3 id="ES6的新语法"><a href="#ES6的新语法" class="headerlink" title="ES6的新语法"></a>ES6的新语法</h3><ol>
<li>模块化</li>
<li>模板字符串</li>
<li>let const 命令</li>
<li>变量的解构赋值</li>
<li>symbol数据类型<br>symbol表示唯一的标识符，对象的key只能是字符串或者symbol</li>
<li>Map和set数据结构(映射和集合)<br><code>Map</code>是一个带键数据项的集合，和对象很像，区别是<code>Map</code>的key可以是任何数据类型<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map1 = <span class="keyword">new</span> <span class="built_in">Map</span>(); <span class="comment">// 创建Map实例</span></span><br><span class="line">map1.set(key,value); <span class="comment">// 存储键值对</span></span><br><span class="line">map1.get(key); <span class="comment">// 获取key对应的value</span></span><br><span class="line">map1.has(key); <span class="comment">// 判断key是否存在，返回true或者false</span></span><br><span class="line">map1.delete(key); <span class="comment">// 删除指定键的值</span></span><br><span class="line">map1.clear(); <span class="comment">// 清空map</span></span><br><span class="line">map1.size; <span class="comment">// 返回map的大小</span></span><br><span class="line">map1.keys(); <span class="comment">// 返回所有的键</span></span><br><span class="line">map1.values(); <span class="comment">// 返回所有的值</span></span><br><span class="line">map1.entries(); <span class="comment">// 返回所有的键值对</span></span><br></pre></td></tr></table></figure>
<code>set</code>是一个特殊的类型集合，只是值的集合，没有键，而且每个值只能出现一次。<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Set</span>(interable); <span class="comment">// 创建一个set，如果提供了一个iterable对象，将会从数组里面复制值到set中</span></span><br><span class="line"><span class="keyword">set</span>.add(value); // 像<span class="keyword">set</span>里添加一个值，如果值已经存在，则不会发生什么</span><br><span class="line"><span class="keyword">set</span>.delete(value); // 删除值，如果value本来存在则返回true，否则返回false</span><br><span class="line"><span class="keyword">set</span>.has(value); // 如果value在<span class="keyword">set</span>中，返回true，否则返回false</span><br><span class="line"><span class="keyword">set</span>.clear(); // 清空<span class="keyword">set</span></span><br><span class="line"><span class="keyword">set</span>.size(); // 返回元素个数</span><br></pre></td></tr></table></figure></li>
<li>生成器和promise</li>
<li>Class</li>
</ol>
<h3 id="箭头函数与function常规函数有哪些不同"><a href="#箭头函数与function常规函数有哪些不同" class="headerlink" title="箭头函数与function常规函数有哪些不同"></a>箭头函数与function常规函数有哪些不同</h3><ol>
<li>箭头函数没有this</li>
<li>箭头函数不能当做构造器</li>
<li>箭头函数没有arguments</li>
<li>箭头函数也没有super</li>
</ol>
<h3 id="回调函数的带来了哪些问题"><a href="#回调函数的带来了哪些问题" class="headerlink" title="回调函数的带来了哪些问题"></a>回调函数的带来了哪些问题</h3><ol>
<li>错误处理困难</li>
<li>执行连续步骤非常棘手<h3 id="解释一下Promise"><a href="#解释一下Promise" class="headerlink" title="解释一下Promise"></a>解释一下Promise</h3></li>
</ol>
<h3 id="Promise的原理"><a href="#Promise的原理" class="headerlink" title="Promise的原理"></a>Promise的原理</h3><h3 id="vue如何实现数据双向绑定"><a href="#vue如何实现数据双向绑定" class="headerlink" title="vue如何实现数据双向绑定"></a>vue如何实现数据双向绑定</h3><h3 id="除了劫持监听还有什么别的办法实现双向绑定"><a href="#除了劫持监听还有什么别的办法实现双向绑定" class="headerlink" title="除了劫持监听还有什么别的办法实现双向绑定"></a>除了劫持监听还有什么别的办法实现双向绑定</h3><h3 id="为什么要用webpack"><a href="#为什么要用webpack" class="headerlink" title="为什么要用webpack"></a>为什么要用webpack</h3><p>打包，模块<br>我们项目中可能会有很多个文件相互依赖，有几个文件就要发多少次请求来获取资源。webpack可以把所有的JS文件打包在一个文件，减少了http请求数量。<br>效率比较高<br>组件化项目</p>
<h3 id="项目是怎么部署的"><a href="#项目是怎么部署的" class="headerlink" title="项目是怎么部署的"></a>项目是怎么部署的</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/15/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98/" data-id="ckct5amfd0008zow48u3xhocs" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-面试自我介绍以及项目介绍" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/15/%E9%9D%A2%E8%AF%95%E8%87%AA%E6%88%91%E4%BB%8B%E7%BB%8D%E4%BB%A5%E5%8F%8A%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D/" class="article-date">
  <time datetime="2020-07-15T03:05:08.570Z" itemprop="datePublished">2020-07-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/15/%E9%9D%A2%E8%AF%95%E8%87%AA%E6%88%91%E4%BB%8B%E7%BB%8D%E4%BB%A5%E5%8F%8A%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D/">面试自我介绍以及项目介绍</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="自我介绍"><a href="#自我介绍" class="headerlink" title="自我介绍"></a>自我介绍</h1><p>面试官您好，我叫徐畅，现在是华中师范大学伍伦贡联合研究院，计算机技术专业的21届研二学生。本科是在武汉科技大学材料物理专业。个人觉得自己学习能力还是比较强的，本科没有编程基础，只学过C语言的基础知识，但是后来通过自学跨专业考研成功，在考研期间，有了比较好的数据结构基础。到了研究生阶段，学校的培养方案主要是AI方面，但是学校系统学习了一些相关课程后，我自己认为这些人工智能算法的可解释性较差。所以在研一下学期，新冠疫情期间开始自学前端web技术。<br>首先接触的是HTML，css，js这三个最基本的网页组成部分的语法。在学习HTML和CSS期间，仿照小米官网写了一个静态页面，在这过程中熟悉了<code>html5</code>和CSS的<code>盒模型</code>。后面用了比较多时间关注在js语言的<code>特性</code>上。有了一定的html，css，js的基础后，因为平常听歌用的是网易云音乐，收藏的歌经常在不经意间就会下架，所以想着能不能自己写个自己用的网页播放器，保存自己很喜欢的歌。然后就开始用原生JS实现了这个网页播放器。在做这个网页播放器的过程中，熟悉了<code>flex布局方式</code>，一些<code>DOM的基本操作</code>，<code>页面audio元素的属性和方法</code>，<code>网页的图像处理技术canvas</code>以及<code>audioContext</code>接口的使用。写了这个项目后，就开始在vue官网上开始学习vue框架，在对vue有了大致的了解后，开始学着用vue写一个待办事项清单的单页应用。写完这个项目，对<code>MVVM</code>模式以及<code>组件化开发</code>有了一定程度的理解，熟悉了常见<code>指令</code>，Vue的 <code>生命周期</code>，<code>组件间参数传递</code>。也了解了vue的核心插件<code>Vue-router</code>和<code>vuex</code>的使用。</p>
<h1 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h1><h2 id="网页播放器"><a href="#网页播放器" class="headerlink" title="网页播放器"></a>网页播放器</h2><p>当时做这个项目的时候，对于如何去开发一个项目是不太清晰的，就凭着自己的感觉走。<br>当时脑子里已经有了这个播放器的雏形，最初的想法是有5个模块，播放列表，播放器的视图，视图上面有按钮，然后页面底部有歌词栏，背景是一个动态音频柱状图，最后还有一个调音工具。这个调音工具还没有完成，之后会把这个功能加上去。</p>
<h3 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h3><p>播放列表：根据歌名选择对应的音频，当前歌曲播放完毕后会按列表顺序播放音频，列表播放按钮状态要随着当前歌曲的状态发生改变<br>播放器视图：播放按钮能控制当前的音频，播放器按钮图标状态随着当前歌曲的状态发生改变<br>歌词栏：歌词栏会显示歌曲当时所唱得歌词<br>背景可视化：将音频的评率在页面背景可视化展现出来。</p>
<h3 id="模块实现"><a href="#模块实现" class="headerlink" title="模块实现"></a>模块实现</h3><h4 id="播放列表"><a href="#播放列表" class="headerlink" title="播放列表"></a>播放列表</h4><h5 id="播放列表的生成"><a href="#播放列表的生成" class="headerlink" title="播放列表的生成"></a>播放列表的生成</h5><p>每一首歌应该都有src,name和lyrics的属性，为了减少html中的代码量，不需要手动在html里添加audio标签和元素节点。我把这些数据抽象在了一个对象数组songs里，然后根据这个数组来把歌添加播放列表里。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">先获取到播放列表的dom节点，然后通过遍历数组，对每一个元素都创建成一个单个歌曲的dom节点，并把这些dom节点通过dataset自定义属性，方便之后获取这些单个歌曲的节点。</span><br></pre></td></tr></table></figure>
<h5 id="播放列表的播放"><a href="#播放列表的播放" class="headerlink" title="播放列表的播放"></a>播放列表的播放</h5><ol>
<li>监听播放列表里的每首歌后面播放按钮的点击事件，用来控制歌曲的播放暂停。点击按钮后会触发一个回调函数 handlePressed。这个回调函数用来处理歌曲的播放暂停和切换歌动作。<br>如果当前点击的是当前歌曲的按钮，则暂停或播放音频，如果点击的是另外一首歌则换切换歌曲。</li>
<li>监听正在播放音频的结束事件，歌曲播放完成后触发回调函数sequentialPlay(), 这个回调函数控制列表的顺序播放，根据在songs数组中的index来获取下一首歌的src。</li>
</ol>
<h4 id="播放器"><a href="#播放器" class="headerlink" title="播放器"></a>播放器</h4><p>使用canvas画布画出自己想要的播放器的样子，播放按钮也是用canvas画的。因为按钮需要控制当前音频的状态，我们需要监听这个按钮的点击事件，但是这个按钮不是一个单独的元素。所以我是通过监听页面的点击事件，如果点击的地方在按钮的坐标范围内，就会触发回调事件，控制当前音频播放。</p>
<h4 id="按钮状态更新"><a href="#按钮状态更新" class="headerlink" title="按钮状态更新"></a>按钮状态更新</h4><p>因为这些按钮的状态都是根据audio的播放/暂停状态决定的，所以我们可以监听当前audio的播放暂停事件来完成按钮状态的切换。</p>
<h4 id="歌词栏"><a href="#歌词栏" class="headerlink" title="歌词栏"></a>歌词栏</h4><p>我的想法是把每一句歌词改成一个对象，对象有两个属性time和text分别对应时间轴和歌词文本。然后这些歌词对象存在一个数组lyrics里。然后根据当前的播放时间来决定显示这个音频的哪个歌词，可以通过监听audio的timeupdate事件来更新歌词。由于我们只在这个lyrics数组里保存了当前歌的歌词，所以每次切歌的时候需要初始化这个歌词数组。</p>
<h4 id="音频可视化"><a href="#音频可视化" class="headerlink" title="音频可视化"></a>音频可视化</h4><p>通过调用audioContext接口，我们可以用当前音频创建一个audioContext源节点，然后把这个源节点连接到一个audioAnalyser分析器，这个分析器会使用傅里叶变换在特定频率捕获音频数据，捕获到的数据要存到Unit8Array数组里，每个元素只占一个字节也就是值的范围是0到255。元素个数有自己设定，我设定是128个。<br>然后通过canvas画布，将频率数据数组里的每个元素可视化展现在页面上。将整个画布除以数组的大小得到每条柱子的宽度，然后根据数组里频率的大小决定每条柱的高度，为了让颜色更搭一些，我把柱子的颜色设置成渐变的了。<br>音频数据数组获取的是那一帧的波形或者频率数据，要实现动态效果，我们需要对每一帧数据都可视化。  通过requestAnimationFrame可以每秒执行60次画柱状图。</p>
<h2 id="网页事项清单"><a href="#网页事项清单" class="headerlink" title="网页事项清单"></a>网页事项清单</h2><p>这个项目是利用Vue框架开发的一个待办事项清单的单页应用。主要目的是熟悉vue框架的使用以及了解vue-router和vuex插件</p>
<h3 id="需求分析-1"><a href="#需求分析-1" class="headerlink" title="需求分析"></a>需求分析</h3><p>想要完成的需求有</p>
<ol>
<li>查询所有的待办事项，以及完成这些待办事项所需要的待办单项</li>
<li>新增，修改待办事项</li>
<li>删除，锁定待办事项 (锁定之后，待办事项的数据不能被改动)</li>
<li>新增，修改，删除待办单项</li>
<li>显示为完成的待办单项的计数<h3 id="组件分析"><a href="#组件分析" class="headerlink" title="组件分析"></a>组件分析</h3>根据上面的需求，将整个项目分成了5个组件<br>app.vue最外层根组件<br>layouts.vue 布局组件，接入其他组件<br>menus.vue 左边待办事项的列表组件<br>todos.vue 右边待办事项的具体内容<br>item.vue 待办事项的每条待办单项，是todos.vue的子组件<h3 id="数据分析"><a href="#数据分析" class="headerlink" title="数据分析"></a>数据分析</h3><h4 id="显示数据有"><a href="#显示数据有" class="headerlink" title="显示数据有"></a>显示数据有</h4>待办事项的标题<br>待办事项的待办单项的文字内容<br>未完成的待办单项数目<h4 id="隐式数据有"><a href="#隐式数据有" class="headerlink" title="隐式数据有"></a>隐式数据有</h4>待办事项的锁的图标<br>待办事项的删除图标<br>待办事项的id<br>待办单项的删除图标<br>待办单项的完成状态</li>
</ol>
<p>根据上面的数据分析，然后得到我们所需要的所有数据的数据结构</p>
<h3 id="api分析-根据用户行为分析需要传入哪些参数，需要从后端返回哪些数据"><a href="#api分析-根据用户行为分析需要传入哪些参数，需要从后端返回哪些数据" class="headerlink" title="api分析 根据用户行为分析需要传入哪些参数，需要从后端返回哪些数据"></a>api分析 根据用户行为分析需要传入哪些参数，需要从后端返回哪些数据</h3><p>首次进入页面，查看待办事项的列表<br>点击新增按钮，新增一个待办事项<br>点击一个待办事项，右边显示待办事项的详细内容<br>点击标题，修改待办事项的标题<br>点击删除图标，删除待办事项<br>点击锁定图标，锁定待办事项<br>点击加号图标，新增待办单项<br>点击待办单项内容，修改待办单项<br>点击待办单项旁的删除图片，删除待办单项<br>点击已完成按钮完成单项</p>
<h3 id="mock模拟后端数据与相应的请求接口"><a href="#mock模拟后端数据与相应的请求接口" class="headerlink" title="mock模拟后端数据与相应的请求接口"></a>mock模拟后端数据与相应的请求接口</h3><p>首先用mock生成随机值，用这些随机值初始化待办事项的数组，然后将这个数组导出<br>然后引入axios库，模拟ajax请求，生成接口用来，返回前端模拟数据<br>最后将这些接口封装成一个个函数，方便之后直接调用这些函数</p>
<p>现在已经完成了数据与接口的模拟，然后要开始完成前端的单页应用。</p>
<h3 id="项目布局与组件"><a href="#项目布局与组件" class="headerlink" title="项目布局与组件"></a>项目布局与组件</h3><h4 id="首先完成静态页面的开发"><a href="#首先完成静态页面的开发" class="headerlink" title="首先完成静态页面的开发"></a>首先完成静态页面的开发</h4><p>  在main.js里先创建一个Vue的根实例，然后注入路由配置和根组件</p>
<p>  然后在layouts布局组件中划分出这个网页的几个组件位置</p>
<p>  然后分别完成menus组件，todo.vue组件，item组件的开发</p>
<p>  menus组件中，根据data中的数据，用v-for指令循环生成待办事项的dom节点，v-if指令判断是否锁定来决定显不显示锁的图标。用双大括号模板显示未完成单项数目</p>
<p>  todo待办事项详情组件中，这个组件data函数返回有待办事项的标题，为完成待办单项的数目和是否锁定，用这些数据完成todo组件容器的上部分，data还会返回待办单项的所有数据。通过v-bind向他的下半部分也就是子组件item.vue传递数据</p>
<p>  item单个待办单项组件用props属性显示声明想要父组件传递的数据，根据这些数据生成待办单项的dom节点。</p>
<p>  最后在布局laysout组件中对应的位置插入vue组件的标签</p>
<p>  这个时候就完成了静态页面的开发</p>
<h4 id="然后将之前的静态数据换成接口请求数据"><a href="#然后将之前的静态数据换成接口请求数据" class="headerlink" title="然后将之前的静态数据换成接口请求数据"></a>然后将之前的静态数据换成接口请求数据</h4><p>先更新menus数据，因为menus中包含了这个项目的所有的数据，将我们之前手动设置items数组列表设置为从后台获取待办事项列表。<br>先通过vue生命周期的钩子函数created(), 在vue实例创建完成后，向模拟的后台发送请求，获得数据</p>
<h3 id="然后修改路由"><a href="#然后修改路由" class="headerlink" title="然后修改路由"></a>然后修改路由</h3><p>我们要根据选择左边选的待办事项的id决定右边的子路由是什么，根据动态路由显示待办事项的待办单项</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/15/%E9%9D%A2%E8%AF%95%E8%87%AA%E6%88%91%E4%BB%8B%E7%BB%8D%E4%BB%A5%E5%8F%8A%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D/" data-id="ckct5amfc0006zow495823hci" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-myVueProject1-todoList" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/14/myVueProject1-todoList/" class="article-date">
  <time datetime="2020-07-14T07:27:27.953Z" itemprop="datePublished">2020-07-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/14/myVueProject1-todoList/">myVueProject1-todoList</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="项目介绍"><a href="#项目介绍" class="headerlink" title="项目介绍"></a>项目介绍</h1><p>这个项目是利用vue框架开发的一个待办事项清单SPA(single-page application)网页。其中用到了vue的核心插件vue-router和Vuex, 并且用mock模拟后端的数据与ajax请求的接口。</p>
<h1 id="项目分析"><a href="#项目分析" class="headerlink" title="项目分析"></a>项目分析</h1><h2 id="项目需求"><a href="#项目需求" class="headerlink" title="项目需求"></a>项目需求</h2><ol>
<li>查询所有的待办事项，以及完成这些待办事项所需要的待办单项</li>
<li>新增，修改待办事项</li>
<li>删除，锁定待办事项 (锁定之后，待办事项的数据不能被改动)</li>
<li>新增，修改，删除待办单项</li>
<li>显示为完成的待办单项的计数<h2 id="数据分析"><a href="#数据分析" class="headerlink" title="数据分析"></a>数据分析</h2>需要在页面显示的数据有</li>
</ol>
<ul>
<li>待办事项的标题</li>
<li>待办事项的待办单项的文字内容</li>
<li>未完成的待办单项数目<br>隐式数据有</li>
<li>待办事项的锁的图标</li>
<li>待办事项的删除图标</li>
<li>待办事项的id</li>
<li>待办单项的删除图标</li>
<li>待办单项的完成状态<h2 id="单个待办事项的数据结构"><a href="#单个待办事项的数据结构" class="headerlink" title="单个待办事项的数据结构"></a>单个待办事项的数据结构</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  id: String,</span><br><span class="line">  title: String,</span><br><span class="line">  count: Number,</span><br><span class="line">  idDelete: Boolean,</span><br><span class="line">  locked: Boolean,</span><br><span class="line">  record: [</span><br><span class="line">    text: String,</span><br><span class="line">    isDelete: Boolean,</span><br><span class="line">    checked: Boolean</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="api分析"><a href="#api分析" class="headerlink" title="api分析"></a>api分析</h2>用户主要有以下这些这些操作</li>
<li>首次进入页面，查看待办事项的列表</li>
<li>点击新增按钮，新增一个待办事项</li>
<li>点击一个待办事项，右边显示待办事项的详细内容</li>
<li>点击标题，修改待办事项的标题</li>
<li>点击删除图标，删除待办事项</li>
<li>点击锁定图标，锁定待办事项</li>
<li>点击加号图标，新增待办单项</li>
<li>点击待办单项内容，修改待办单项</li>
<li>点击待办单项旁的删除图片，删除待办单项</li>
<li>点击已完成按钮完成单项<h3 id="待办事项列表"><a href="#待办事项列表" class="headerlink" title="待办事项列表"></a>待办事项列表</h3>api: 接口名，params：传入的数据，data：返回的数据<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">api: &#x2F;todo&#x2F;list(get)</span><br><span class="line">params: &#123;&#125;</span><br><span class="line">&#x2F;*</span><br><span class="line">左边的列表肯定是一个数组对象，因为我们每次点击待办事项的标题，就会显示</span><br><span class="line">待办事项的详细内容，所以我们需要一个id来标识</span><br><span class="line">*&#x2F;</span><br><span class="line">data: [</span><br><span class="line">  &#123;</span><br><span class="line">    id: String,</span><br><span class="line">    title: String,</span><br><span class="line">    count: Number,</span><br><span class="line">    locked: Boolean</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="新增待办事项"><a href="#新增待办事项" class="headerlink" title="新增待办事项"></a>新增待办事项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">api: &#x2F;todo&#x2F;addTodo (post)</span><br><span class="line">params: &#123;&#125;</span><br><span class="line">data: &#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="单个待办事项查询"><a href="#单个待办事项查询" class="headerlink" title="单个待办事项查询"></a>单个待办事项查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">api: &#x2F;todo&#x2F;listId (get)</span><br><span class="line">params: &#123;id: xxx&#125; &#x2F;&#x2F;传入id，根据id返回待办事项的所有数据</span><br><span class="line">data：&#123;</span><br><span class="line">  id: String,</span><br><span class="line">  title: String,</span><br><span class="line">  count: Number,</span><br><span class="line">  isDelete: Boolean,</span><br><span class="line">  locked: Boolean,</span><br><span class="line">  record: [</span><br><span class="line">    text: String,</span><br><span class="line">    isDelete: Boolean,</span><br><span class="line">    checked: Boolean</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="修改待办事项标题，删除，锁定待办事项"><a href="#修改待办事项标题，删除，锁定待办事项" class="headerlink" title="修改待办事项标题，删除，锁定待办事项"></a>修改待办事项标题，删除，锁定待办事项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">api: &#x2F;todo&#x2F;editTodo (post)</span><br><span class="line">&#x2F;*</span><br><span class="line">这里的是哪个操作都是修改的同一条待办事项，所以可以把这些合并在同一个接口</span><br><span class="line">*&#x2F;</span><br><span class="line">params: &#123;</span><br><span class="line">  id: String,</span><br><span class="line">  title: String,</span><br><span class="line">  isDelete: Boolean,</span><br><span class="line">  locked: Boolean</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">data: &#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="新增待办单项"><a href="#新增待办单项" class="headerlink" title="新增待办单项"></a>新增待办单项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">api: &#x2F;todo&#x2F;addRecord (post)</span><br><span class="line">params: &#123;&#125;</span><br><span class="line">data: &#123;&#125;</span><br></pre></td></tr></table></figure>
<h3 id="修改、删除、完成待办单项"><a href="#修改、删除、完成待办单项" class="headerlink" title="修改、删除、完成待办单项"></a>修改、删除、完成待办单项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">api: &#x2F;todo&#x2F;editRecord (post)</span><br><span class="line">params: &#123;</span><br><span class="line">  text: String,</span><br><span class="line">  isDelete: Boolean,</span><br><span class="line">  checked: Boolean</span><br><span class="line">&#125;</span><br><span class="line">data: &#123;&#125;</span><br></pre></td></tr></table></figure>
<h2 id="组件分析"><a href="#组件分析" class="headerlink" title="组件分析"></a>组件分析</h2></li>
<li>SPA引用本身是一个大组件</li>
<li>里面的布局是一个组件，它里面包含了其他组件</li>
<li>左边的待办事项列表是一个组件，包含列表与新增</li>
<li>右边的单个待办事项算一个组件，它包含上半部分与下半部分</li>
<li>待办单项是一个组件，他要被循环渲染多次<br>所以最终可以得到：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">app.vue &#x2F;&#x2F; 最外层根组件</span><br><span class="line">layouts.vue &#x2F;&#x2F; 布局组件，接入其他组件</span><br><span class="line">menus.vue &#x2F;&#x2F; 左边待办事项列表组件</span><br><span class="line">todos.vue &#x2F;&#x2F; 右边待办事项的内容</span><br><span class="line">item.vue &#x2F;&#x2F; 事项的待办单项组件</span><br></pre></td></tr></table></figure>
<h1 id="mock模拟数据与接口"><a href="#mock模拟数据与接口" class="headerlink" title="mock模拟数据与接口"></a>mock模拟数据与接口</h1><h2 id="安装mock、axios依赖"><a href="#安装mock、axios依赖" class="headerlink" title="安装mock、axios依赖"></a>安装mock、axios依赖</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install mockjs</span><br><span class="line">npm install axios</span><br><span class="line">npm install axios-mock-adapter --save-dev &#x2F;&#x2F; 这是axios与mock的配置器，把二者结合起来</span><br></pre></td></tr></table></figure>
<h2 id="创建mock"><a href="#创建mock" class="headerlink" title="创建mock"></a>创建mock</h2><h3 id="新建src-mock-data-todoList-js"><a href="#新建src-mock-data-todoList-js" class="headerlink" title="新建src/mock/data/todoList.js"></a>新建src/mock/data/todoList.js</h3>todoList.js文件是初始化我们需要的数据，再进行导出<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Mock <span class="keyword">from</span> <span class="string">'mockjs'</span></span><br><span class="line"><span class="keyword">let</span> Todos = []</span><br><span class="line"><span class="keyword">const</span> COUNT = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i =<span class="number">1</span>; i &lt;= COUNT.length; i ++)&#123;</span><br><span class="line">  Todos.push(Mock.mock(&#123;</span><br><span class="line">    id: Mock.Random.guid(),</span><br><span class="line">    title: Mock.Random.first(),</span><br><span class="line">    isDelete: <span class="literal">false</span>,</span><br><span class="line">    locked: Mock.Random.boolean(),</span><br><span class="line">    record: COUNT.map(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        text: Mock.Random.cparagraph(<span class="number">2</span>),</span><br><span class="line">        idDelete: <span class="literal">false</span>,</span><br><span class="line">        checked: Mock.Random.boolean()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;))</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> &#123; <span class="comment">//导出列表数据</span></span><br><span class="line">  Todos</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="新建src-mock-mock-js"><a href="#新建src-mock-mock-js" class="headerlink" title="新建src/mock/mock.js"></a>新建src/mock/mock.js</h3>核心代码，作用是模拟ajax请求，生成并返回模拟数据<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"><span class="keyword">import</span> MockAdapter <span class="keyword">from</span> <span class="string">'axios-mock-adapter'</span> <span class="comment">// axios与mock的配置</span></span><br><span class="line"><span class="keyword">import</span> Mock <span class="keyword">from</span> <span class="string">'mockjs'</span></span><br><span class="line"><span class="keyword">import</span> &#123;Todos&#125; <span class="keyword">from</span> <span class="string">'./data/todoList'</span> <span class="comment">// 导入Todos数据</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  start () &#123; <span class="comment">// 初始化函数</span></span><br><span class="line">    <span class="keyword">let</span> mock = <span class="keyword">new</span> MockAdapter(axios); <span class="comment">// 创建MockAdapter实例</span></span><br><span class="line">    <span class="comment">// 获取todo列表</span></span><br><span class="line">    mock.onGet(<span class="string">'/todo/list'</span>).reply(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> mockTodo = Todos.map(<span class="function"><span class="params">todo</span> =&gt;</span> &#123; <span class="comment">// 从todoList中获取左边列表所需要的的数据，并赋值给mockTodo</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">          id: todo.id,</span><br><span class="line">          title: todo.title,</span><br><span class="line">          count: todo.record.filter(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (data.checked === <span class="literal">false</span>) &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">          &#125;).length, <span class="comment">// 过滤record里面checked为true的数据</span></span><br><span class="line">          locked: todo.locked,</span><br><span class="line">          isDelete: todo.isDelete</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;).filter(<span class="function"><span class="params">todo</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (todo.isdelete === <span class="literal">true</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">      &#125;) <span class="comment">// 过滤掉isDelete为true的todo，因为已经被删除了</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          resolve([<span class="number">200</span>, &#123;<span class="attr">todos</span>: mockTodo&#125;]) <span class="comment">//返回状态为200，并且返回todos数据</span></span><br><span class="line">        &#125;, <span class="number">200</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 新增一条todo</span></span><br><span class="line">    mock.onPost(<span class="string">'/todo/addTodo'</span>).reply(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">      Todos.push(&#123;</span><br><span class="line">        id: Mock.Random.guid(),</span><br><span class="line">        title: <span class="string">'newList'</span>,</span><br><span class="line">        isDelete: <span class="literal">false</span>,</span><br><span class="line">        locked: <span class="literal">false</span>,</span><br><span class="line">        record: []</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          resolve([<span class="number">200</span>])</span><br><span class="line">        &#125;, <span class="number">200</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取待办事项todo的详细信息,即页面应用的右上部分</span></span><br><span class="line">    mock.onGet(<span class="string">'/todo/listId'</span>).reply(<span class="function"><span class="params">config</span> =&gt;</span> &#123; <span class="comment">// 有参get请求</span></span><br><span class="line">      <span class="keyword">let</span> &#123;id&#125; = config.params <span class="comment">// 根据传入的参数，确定id</span></span><br><span class="line">      <span class="comment">// 然后根据id和现有的Todos匹配，找出id相等的数据，再进行返回</span></span><br><span class="line">      <span class="keyword">let</span> todo = Todos.find(<span class="function"><span class="params">todo</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id &amp;&amp; todo.id === id</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="comment">// todo.count(等待完成数目)等于todo.record的没被勾选的单项的数目</span></span><br><span class="line">      todo.count = todo.record.filter(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> data.checked === <span class="literal">false</span></span><br><span class="line">      &#125;).length</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          resovle([<span class="number">200</span>, &#123;<span class="attr">todo</span>: todo&#125;]) <span class="comment">//返回状态码200和todo数据</span></span><br><span class="line">        &#125;, <span class="number">200</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 新增一条待办事项的待办单项</span></span><br><span class="line">    mock.onPost(<span class="string">'/todo/addRecord'</span>).reply(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// id是传进来的值唯一待办事项的id。text是用户新增输入的文本数据</span></span><br><span class="line">      <span class="keyword">let</span> &#123;id, text&#125; = <span class="built_in">JSON</span>.parse(config.data) <span class="comment">// JSON.parse将字符串转换成对象</span></span><br><span class="line">      Todos.some(<span class="function">(<span class="params">t, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (t.id === id) &#123;</span><br><span class="line">          t.record.push(&#123;</span><br><span class="line">            text: text,</span><br><span class="line">            isDelete: <span class="literal">false</span>,</span><br><span class="line">            checked: <span class="literal">false</span></span><br><span class="line">          &#125;)</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          resolve([<span class="number">200</span>])</span><br><span class="line">        &#125;, <span class="number">200</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 修改待办事项的标题</span></span><br><span class="line">    mock.onPost(<span class="string">'/todo/editTodo'</span>).reply(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> &#123;todo&#125; = <span class="built_in">JSON</span>.parse(config.data)</span><br><span class="line">      Todos.some(<span class="function">(<span class="params">t,index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (t.id === todo.id) &#123;</span><br><span class="line">          t.title = todo.title</span><br><span class="line">          t.locked = todo.locked</span><br><span class="line">          t.idDelete = todo.isDelete</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          resolve([<span class="number">200</span>])</span><br><span class="line">        &#125;, <span class="number">200</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//修改待办单项的标题</span></span><br><span class="line">    mock.onPost(<span class="string">'/todo/editRecord'</span>).reply(<span class="function"><span class="params">config</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">let</span> &#123;id, record, index&#125; = <span class="built_in">JSON</span>.parse(config.data)</span><br><span class="line">      Todos.some(<span class="function">(<span class="params">t</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (t.id === id) &#123;</span><br><span class="line">          t.record[index] = record</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          resolve([<span class="number">200</span>])</span><br><span class="line">        &#125;, <span class="number">200</span>)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="导出mock"><a href="#导出mock" class="headerlink" title="导出mock"></a>导出mock</h2>新建src/mock/index.js，方便其他文件引入接口api函数<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mock <span class="keyword">from</span> <span class="string">'./mock'</span>; </span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> mock; <span class="comment">// 导入同级下mock.js的内容，并且导出</span></span><br></pre></td></tr></table></figure>
<h2 id="封装api函数，新建src-api-api-js"><a href="#封装api函数，新建src-api-api-js" class="headerlink" title="封装api函数，新建src/api/api.js"></a>封装api函数，新建src/api/api.js</h2>把我们需要调用的接口写到同一个文件里面，封装成一个一个的函数，需要使用时直接调用这个函数<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getTodoList = <span class="function"><span class="params">params</span> =&gt;</span> &#123; <span class="comment">// 封装一个函数，名为getTodoList</span></span><br><span class="line">  <span class="keyword">return</span> axios.get(<span class="string">`/todo/list`</span>, &#123;<span class="attr">params</span>: params&#125;) <span class="comment">// 请求的路径是'/todo/list'，成功会返回待办事项列表数据</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> addTodo = <span class="function"><span class="params">params</span> =&gt;</span> &#123; <span class="comment">// 封装一个函数，名为addTodo</span></span><br><span class="line">  <span class="keyword">return</span> axios.post(<span class="string">`/todo/addTodo`</span>, params).then(<span class="function"><span class="params">res</span> =&gt;</span> res.data) <span class="comment">// 请求的路径是'/todo/addTodo'，成功会新增加一条title为newList的待办事项，并且返回状态码200</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getTodo = <span class="function"><span class="params">params</span> =&gt;</span> &#123; <span class="comment">// 封装一个函数，名为getTodo</span></span><br><span class="line">  <span class="keyword">return</span> anxios.get(<span class="string">`/todo/listId`</span>, &#123;<span class="attr">params</span>: params&#125;) <span class="comment">// 请求的路径是'/todo/listId'，成功会返回id下的待办事项的数据详情</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> addRecord = <span class="function"><span class="params">params</span> =&gt;</span> &#123; <span class="comment">//封装一个函数，名为addRecord</span></span><br><span class="line">  <span class="keyword">return</span> anxios.post(<span class="string">`/todo/addRecord`</span>, params).then(<span class="function"><span class="params">res</span> =&gt;</span> res.data) <span class="comment">// 请求的路径是'/todo/addRecord'，成功会返回id下的待办事项的数据详情</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> editTodo = <span class="function"><span class="params">params</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> axios.post(<span class="string">`/todo/editTodo`</span>, params).then(<span class="function"><span class="params">res</span> =&gt;</span> res.data) <span class="comment">// 请求的路径是'/todo/listId'，成功会返回id下的待办事项的数据详情</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> editRecord = <span class="function"><span class="params">params</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> axios.post(<span class="string">`/todo/editRecord`</span>, params).then(<span class="function"><span class="params">res</span> =&gt;</span> res.data) <span class="comment">// 请求的路径是'/todo/listId'，成功会返回id下的待办事项的数据详情</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<code>至此，我们已经完成了数据与接口的模拟，接下来我们开始着手用VUE全家桶来调用这些数据和接口，来完成我们的单页SPA项目</code></li>
</ul>
<h1 id="项目布局与组件"><a href="#项目布局与组件" class="headerlink" title="项目布局与组件"></a>项目布局与组件</h1><h2 id="在-src-main-js文件里创建单页应用的根实例"><a href="#在-src-main-js文件里创建单页应用的根实例" class="headerlink" title="在/src/main.js文件里创建单页应用的根实例"></a>在/src/main.js文件里创建单页应用的根实例</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span></span><br><span class="line"><span class="keyword">import</span> Mock <span class="keyword">from</span> <span class="string">'./mock'</span></span><br><span class="line">Mock.start() <span class="comment">// 生成模拟数据与ajax请求的接口</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> Vue(&#123; <span class="comment">// 创建一个Vue的根实例</span></span><br><span class="line">  el: <span class="string">'#app'</span>, <span class="comment">// 挂载id，这个实例下的所有内容都会在index.html的一个id为app的div下显示</span></span><br><span class="line">  router, <span class="comment">// 注入路由配置</span></span><br><span class="line">  components: &#123; App &#125;, <span class="comment">// 配置根模板</span></span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span> <span class="comment">// 注入组件</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="新建layouts-vue-布局组件"><a href="#新建layouts-vue-布局组件" class="headerlink" title="新建layouts.vue(布局组件)"></a>新建layouts.vue(布局组件)</h2><p>在 src/components/目录下新建一个文件 layouts.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class&#x3D;&quot;container&quot; &gt; &lt;!--最外层容器--&gt;</span><br><span class="line">    &lt;section class&#x3D;&quot;menu&quot;&gt; &lt;!--左边的容器--&gt;</span><br><span class="line">    &lt;&#x2F;section&gt;</span><br><span class="line">    &lt;section class&#x3D;&quot;content-container&quot;&gt;&lt;!--右边的容器--&gt;</span><br><span class="line">    &lt;&#x2F;section&gt;</span><br><span class="line">  &lt;&#x2F;section&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  export  default &#123;&#125;;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot;&gt;</span><br><span class="line">@import &#39;..&#x2F;common&#x2F;style&#x2F;layouts.less&#39;;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<p>忘了提醒，样式是用less写的，我们需要先下载好less和webpack的loader:<br>在终端输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev less-loader style-loader less</span><br></pre></td></tr></table></figure>
<p>在webpack的配置文件 /build/webpack.base.conf.js 加上</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;   <span class="comment">//把这个对象添加在里面</span></span><br><span class="line">        test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          <span class="string">'style-loader'</span>,</span><br><span class="line">          &#123; <span class="attr">loader</span>: <span class="string">'css-loader'</span>, <span class="attr">options</span>: &#123; <span class="attr">importLoaders</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">          <span class="string">'less-loader'</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="menus-vue-菜单组件"><a href="#menus-vue-菜单组件" class="headerlink" title="menus.vue(菜单组件)"></a>menus.vue(菜单组件)</h2><p>在src/components/目录下新建一个menus.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;list-todos&quot;&gt;  &lt;!--菜单容器--&gt;</span><br><span class="line">      &lt;a v-for&#x3D;&quot;(item, index) in items&quot; :key&#x3D;&quot;index&quot;  class&#x3D;&quot;list-todo activeListClass list&quot; &gt; &lt;!--单个菜单容器--&gt;</span><br><span class="line">        &lt;span v-if&#x3D;&quot;item.locked&quot; class&#x3D;&quot;icon-lock&quot; &gt;&lt;&#x2F;span&gt;  &lt;!--锁的图标--&gt;</span><br><span class="line">        &lt;span v-if&#x3D;&quot;item.count&quot; class&#x3D;&quot;count-list&quot;&gt;&#123;&#123;item.count&#125;&#125;&lt;&#x2F;span&gt;&lt;!--数字--&gt;</span><br><span class="line">        &#123;&#123;item.title&#125;&#125;</span><br><span class="line">      &lt;&#x2F;a&gt;</span><br><span class="line">    &lt;a class&#x3D;&quot; link-list-new&quot; &gt; &lt;!--新增菜单--&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;icon-plus&quot;&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br><span class="line">      新增</span><br><span class="line">    &lt;&#x2F;a&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123; &#x2F;&#x2F; data函数</span><br><span class="line">    return &#123;</span><br><span class="line">      items: [&#123; title: &#39;星期一&#39;, count: 1, locked: true &#125;, &#x2F;&#x2F; 菜单的模拟数据</span><br><span class="line">        &#123; title: &#39;星期二&#39;, count: 2, locked: true &#125;,</span><br><span class="line">        &#123; title: &#39;星期三&#39;, count: 3, locked: false &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot;&gt;</span><br><span class="line">@import &#39;..&#x2F;common&#x2F;style&#x2F;menu.less&#39;;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<h2 id="新建todo-vue-待办事项详情组件"><a href="#新建todo-vue-待办事项详情组件" class="headerlink" title="新建todo.vue(待办事项详情组件)"></a>新建todo.vue(待办事项详情组件)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;page lists-show&quot;&gt;&lt;!--最外层容器--&gt;</span><br><span class="line">    &lt;nav&gt;&lt;!--容器上半部分--&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;nav-group&quot;&gt; &lt;!--移动端的菜单图标--&gt;</span><br><span class="line">        &lt;a class&#x3D;&quot;nav-item&quot;&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;icon-list-unordered&quot;&gt;</span><br><span class="line">          &lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;a&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;h1 class&#x3D;&quot;title-page&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;title-wrapper&quot;&gt;&#123;&#123;todo.title&#125;&#125;&lt;&#x2F;span&gt; &lt;!-- 标题--&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;count-list&quot;&gt;&#123;&#123;todo.count&#125;&#125;&lt;&#x2F;span&gt;&lt;!-- 数目--&gt;</span><br><span class="line">      &lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;nav-group right&quot;&gt;&lt;!-- 右边的删除，锁定图标容器--&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;options-web&quot;&gt;</span><br><span class="line">          &lt;a class&#x3D;&quot; nav-item&quot;&gt; &lt;!-- 锁定图标--&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;icon-lock&quot; v-if&#x3D;&quot;todo.locked&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;icon-unlock&quot; v-else&gt;</span><br><span class="line">            &lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;a&gt;</span><br><span class="line">          &lt;a class&#x3D;&quot; nav-item&quot;&gt;&lt;!-- 删除图标--&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;icon-trash&quot;&gt;</span><br><span class="line">            &lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;a&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot; form todo-new input-symbol&quot;&gt; &lt;!-- 新增单个代办单项输入框,监听了回车事件，双向绑定text值,监听了disabled属性，在todo.locked为true的情况下无法编辑--&gt;</span><br><span class="line">        &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;text&quot; placeholder&#x3D;&#39;请输入&#39; @keyup.enter&#x3D;&quot;onAdd&quot; :disabled&#x3D;&quot;todo.locked&quot; &#x2F;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;icon-add&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;nav&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;content-scrollable list-items&quot;&gt;</span><br><span class="line">      &lt;!--容器下半部分--&gt;</span><br><span class="line">      &lt;div v-for&#x3D;&quot;(item, index) in items&quot; :key&#x3D;&quot;index&quot;&gt;</span><br><span class="line">        &lt;item :item&#x3D;&quot;item&quot;&#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import item from &#39;.&#x2F;item&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todo: &#123; &#x2F;&#x2F; 详情内容</span><br><span class="line">        title: &#39;星期一&#39;,</span><br><span class="line">        count: 12,</span><br><span class="line">        locked: false</span><br><span class="line">      &#125;,</span><br><span class="line">      items: [ &#x2F;&#x2F; 代办单项列表</span><br><span class="line">        &#123; checked: false, text: &#39;新的一天&#39;, isDelete: false &#125;,</span><br><span class="line">        &#123; checked: false, text: &#39;新的一天&#39;, isDelete: false &#125;,</span><br><span class="line">        &#123; checked: true, text: &#39;新的一天&#39;, isDelete: false &#125;</span><br><span class="line">      ],</span><br><span class="line">      text: &#39;&#39; &#x2F;&#x2F; 新增代办单项绑定的值</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    item</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onAdd () &#123;</span><br><span class="line">      this.items.push(&#123;</span><br><span class="line">        checked: false, text: this.text, isDelete: false</span><br><span class="line">      &#125;) &#x2F;&#x2F; 当用户点击回车时候 ，给items的值新增一个对象，this.text 即输入框绑定的值</span><br><span class="line">      this.text &#x3D; &#39;&#39; &#x2F;&#x2F; 初始化输入框的值。</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang &#x3D; &quot;less&quot;&gt;</span><br><span class="line">@import &#39;..&#x2F;common&#x2F;style&#x2F;nav.less&#39;;</span><br><span class="line">@import &#39;..&#x2F;common&#x2F;style&#x2F;form.less&#39;;</span><br><span class="line">@import &#39;..&#x2F;common&#x2F;style&#x2F;todo.less&#39;;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<h2 id="item-vue-单个待办单项组件"><a href="#item-vue-单个待办单项组件" class="headerlink" title="item.vue(单个待办单项组件)"></a>item.vue(单个待办单项组件)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;list-item editingClass editing&quot;&gt; &lt;!-- 最外层容器--&gt;</span><br><span class="line">    &lt;label class&#x3D;&quot;checkbox&quot;&gt; &lt;!--自定义的多选框--&gt;</span><br><span class="line">      &lt;input type&#x3D;&quot;checkbox&quot; v-model&#x3D;&quot;item.checked&quot;&gt; &lt;!--item.checked--&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;checkbox-custom&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;label&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;item.text&quot;&gt;  &lt;!--绑定item.text--&gt;</span><br><span class="line">    &lt;a class&#x3D;&quot;delete-item&quot;&gt; &lt;!--删除图标--&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;icon-trash&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;a&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  props: [&#39;item&#39;] &#x2F;&#x2F; 子组件显式的用 props 选项声明它期待获得的数据</span><br><span class="line">  &#x2F;&#x2F; 这里申明 它想要一个叫做 ’item‘的数据。</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot;&gt;</span><br><span class="line">@import &#39;..&#x2F;common&#x2F;style&#x2F;list-items.less&#39;;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<h2 id="更新layouts组件"><a href="#更新layouts组件" class="headerlink" title="更新layouts组件"></a>更新layouts组件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class&#x3D;&quot;container&quot; &gt; &lt;!--最外层容器--&gt;</span><br><span class="line">    &lt;section class&#x3D;&quot;menu&quot;&gt; &lt;!--左边的容器--&gt;</span><br><span class="line">      &lt;menus&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;section&gt;</span><br><span class="line">    &lt;section class&#x3D;&quot;content-container&quot;&gt;&lt;!--右边的容器--&gt;</span><br><span class="line">      &lt;todo &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;section&gt;</span><br><span class="line">  &lt;&#x2F;section&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import menus from &#39;.&#x2F;menus&#39;</span><br><span class="line">import todo from &#39;.&#x2F;todo&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  components: &#123;</span><br><span class="line">    menus,</span><br><span class="line">    todo</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot;&gt;</span><br><span class="line">@import &#39;..&#x2F;common&#x2F;style&#x2F;layouts.less&#39;;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<p><code>此时，我们已经通过VUE与vue-router完成了静态页面的开发。接下来我们要从接口获取数据，并且用vuex集中管理这些数据</code></p>
<h1 id="将之前的静态数据换成我们之前设计的接口"><a href="#将之前的静态数据换成我们之前设计的接口" class="headerlink" title="将之前的静态数据换成我们之前设计的接口"></a>将之前的静态数据换成我们之前设计的接口</h1><h2 id="更改menu-vue"><a href="#更改menu-vue" class="headerlink" title="更改menu.vue"></a>更改menu.vue</h2><p>我们首先更改menu.vue的代码，将我们之前手动设置的items数组列表设置为从后台接口获取待办事项列表数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;list-todos&quot;&gt;  &lt;!--菜单容器--&gt;</span><br><span class="line">      &lt;a @click&#x3D;&quot;goList(item.id)&quot; v-for&#x3D;&quot;(item, index) in items&quot; :key&#x3D;&quot;index&quot;  class&#x3D;&quot;list-todo activeListClass list&quot; &gt; &lt;!--单个菜单容器--&gt;</span><br><span class="line">        &lt;span v-if&#x3D;&quot;item.locked&quot; class&#x3D;&quot;icon-lock&quot; &gt;&lt;&#x2F;span&gt;  &lt;!--锁的图标--&gt;</span><br><span class="line">        &lt;span v-if&#x3D;&quot;item.count&quot; class&#x3D;&quot;count-list&quot;&gt;&#123;&#123;item.count&#125;&#125;&lt;&#x2F;span&gt;&lt;!--数字--&gt;</span><br><span class="line">        &#123;&#123;item.title&#125;&#125;</span><br><span class="line">      &lt;&#x2F;a&gt;</span><br><span class="line">    &lt;a @click&#x3D;&quot;addTodoList&quot; class&#x3D;&quot; link-list-new&quot; &gt; &lt;!--新增菜单--&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;icon-plus&quot;&gt;</span><br><span class="line">      &lt;&#x2F;span&gt;</span><br><span class="line">      新增</span><br><span class="line">    &lt;&#x2F;a&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;getTodoList, addTodo&#125; from &#39;..&#x2F;api&#x2F;api&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123; &#x2F;&#x2F; data函数</span><br><span class="line">    &#x2F;&#x2F; return &#123;</span><br><span class="line">    &#x2F;&#x2F;   items: [&#123; title: &#39;星期一&#39;, count: 1, locked: true &#125;, &#x2F;&#x2F; 菜单的模拟数据</span><br><span class="line">    &#x2F;&#x2F;     &#123; title: &#39;星期二&#39;, count: 2, locked: true &#125;,</span><br><span class="line">    &#x2F;&#x2F;     &#123; title: &#39;星期三&#39;, count: 3, locked: false &#125;</span><br><span class="line">    &#x2F;&#x2F;   ]</span><br><span class="line">    &#x2F;&#x2F; &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">      items: [], &#x2F;&#x2F; 待办事项列表数组数据</span><br><span class="line">      todoId: &#39;&#39; &#x2F;&#x2F; 默认选中id</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123; &#x2F;&#x2F; 监听todoId的值，todoId发生改变之后切换子路由</span><br><span class="line">    &#39;todoId&#39; (id) &#123;</span><br><span class="line">      this.$router.push(&#123;name: &#39;todo&#39;, params: &#123;id: id&#125; &#125;) &#x2F;&#x2F; 更换当前的子路由</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, </span><br><span class="line">  created () &#123; &#x2F;&#x2F; 在实例创建完成后，我们立即向模拟的后台请求数据</span><br><span class="line">    getTodoList(&#123;&#125;).then(res &#x3D;&gt; &#123;</span><br><span class="line">      console.log(res)</span><br><span class="line">      const TODOS &#x3D; res.data.todos &#x2F;&#x2F; 把返回数据的todos对象赋给TODOS</span><br><span class="line">      this.items &#x3D; TODOS &#x2F;&#x2F; 把从接口获得的待办事项列表数据赋给this.items</span><br><span class="line">      this.todoId &#x3D; TODOS[0].id &#x2F;&#x2F; 默认选中待办事项列表的第一项待办事项</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    goList (id) &#123; &#x2F;&#x2F; 点击待办事项时，替换选中的id</span><br><span class="line">      this.todoId &#x3D; id</span><br><span class="line">    &#125;,</span><br><span class="line">    addTodoList () &#123; &#x2F;&#x2F; 点击增加按钮，调用新增菜单的接口，在接口调用成功后请求数据</span><br><span class="line">      addTodo(&#123;&#125;).then(() &#x3D;&gt; &#123; &#x2F;&#x2F; 接口调用成功后会更新后台里的待办事项数据</span><br><span class="line">        &#x2F;&#x2F; console.log(data)</span><br><span class="line">        getTodoList(&#123;&#125;).then(res &#x3D;&gt; &#123; &#x2F;&#x2F; 请求更新后的待办事项数据</span><br><span class="line">          console.log(res)</span><br><span class="line">          const TODOS &#x3D; res.data.todos</span><br><span class="line">          this.items &#x3D; TODOS</span><br><span class="line">          this.todoId &#x3D; TODOS[TODOS.length - 1].id</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot;&gt;</span><br><span class="line">@import &#39;..&#x2F;common&#x2F;style&#x2F;menu.less&#39;;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<h2 id="更新todo-vue"><a href="#更新todo-vue" class="headerlink" title="更新todo.vue"></a>更新todo.vue</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;page lists-show&quot;&gt;&lt;!--最外层容器--&gt;</span><br><span class="line">    &lt;nav&gt;&lt;!--容器上半部分--&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;nav-group&quot;&gt; &lt;!--移动端的菜单图标--&gt;</span><br><span class="line">        &lt;a class&#x3D;&quot;nav-item&quot;&gt;</span><br><span class="line">          &lt;span class&#x3D;&quot;icon-list-unordered&quot;&gt;</span><br><span class="line">          &lt;&#x2F;span&gt;</span><br><span class="line">        &lt;&#x2F;a&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;h1 class&#x3D;&quot;title-page&quot;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;title-wrapper&quot;&gt;&#123;&#123;todo.title&#125;&#125;&lt;&#x2F;span&gt; &lt;!-- 标题--&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;count-list&quot;&gt;&#123;&#123;todo.count&#125;&#125;&lt;&#x2F;span&gt;&lt;!-- 数目--&gt;</span><br><span class="line">      &lt;&#x2F;h1&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot;nav-group right&quot;&gt;&lt;!-- 右边的删除，锁定图标容器--&gt;</span><br><span class="line">        &lt;div class&#x3D;&quot;options-web&quot;&gt;</span><br><span class="line">          &lt;a class&#x3D;&quot; nav-item&quot;&gt; &lt;!-- 锁定图标--&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;icon-lock&quot; v-if&#x3D;&quot;todo.locked&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;icon-unlock&quot; v-else&gt;</span><br><span class="line">            &lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;a&gt;</span><br><span class="line">          &lt;a class&#x3D;&quot; nav-item&quot;&gt;&lt;!-- 删除图标--&gt;</span><br><span class="line">            &lt;span class&#x3D;&quot;icon-trash&quot;&gt;</span><br><span class="line">            &lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;a&gt;</span><br><span class="line">        &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">      &lt;div class&#x3D;&quot; form todo-new input-symbol&quot;&gt; &lt;!-- 新增单个代办单项输入框,监听了回车事件，双向绑定text值,监听了disabled属性，在todo.locked为true的情况下无法编辑--&gt;</span><br><span class="line">        &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;text&quot; placeholder&#x3D;&#39;请输入&#39; @keyup.enter&#x3D;&quot;onAdd&quot; :disabled&#x3D;&quot;todo.locked&quot; &#x2F;&gt;</span><br><span class="line">        &lt;span class&#x3D;&quot;icon-add&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;nav&gt;</span><br><span class="line">    &lt;div class&#x3D;&quot;content-scrollable list-items&quot;&gt;</span><br><span class="line">      &lt;!--容器下半部分--&gt;</span><br><span class="line">      &lt;div v-for&#x3D;&quot;(item, index) in items&quot; :key&#x3D;&quot;index&quot;&gt;</span><br><span class="line">        &lt;!-- 向子组件item传递数据items待办事项的代办单项 --&gt;</span><br><span class="line">        &lt;item :item&#x3D;&quot;item&quot; :index&#x3D;&quot;index&quot; :id&#x3D;&quot;todo.id&quot; :init&#x3D;&quot;init&quot; :locked&#x3D;&quot;todo.locked&quot;&gt;&lt;&#x2F;item&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">import item from &#39;.&#x2F;item&#39;</span><br><span class="line">import &#123; getTodo &#125; from &#39;..&#x2F;api&#x2F;api&#39;</span><br><span class="line">export default &#123;</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      todo: &#123; &#x2F;&#x2F; 详情内容</span><br><span class="line">        title: &#39;帕吉的小肚腩&#39;,</span><br><span class="line">        count: 24,</span><br><span class="line">        locked: false</span><br><span class="line">      &#125;,</span><br><span class="line">      items: [ &#x2F;&#x2F; 代办单项列表</span><br><span class="line">      ],</span><br><span class="line">      text: &#39;&#39; &#x2F;&#x2F; 新增代办单项绑定的值</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  components: &#123;</span><br><span class="line">    item</span><br><span class="line">  &#125;,</span><br><span class="line">  watch: &#123;</span><br><span class="line">    &#39;$route.params.id&#39; () &#123;</span><br><span class="line">      this.init()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  created () &#123;</span><br><span class="line">    this.init()</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    onAdd () &#123;</span><br><span class="line">      this.items.push(&#123;</span><br><span class="line">        checked: false, text: this.text, isDelete: false</span><br><span class="line">      &#125;) &#x2F;&#x2F; 当用户点击回车时候 ，给items的值新增一个对象，this.text 即输入框绑定的值</span><br><span class="line">      this.text &#x3D; &#39;&#39; &#x2F;&#x2F; 初始化输入框的值。</span><br><span class="line">    &#125;,</span><br><span class="line">    init () &#123;</span><br><span class="line">      &#x2F;&#x2F; 获取到$route.params下的id，当前所在路由的id，即我们在menus.vue组件处传入的数据</span><br><span class="line">      console.log(this.$route)</span><br><span class="line">      const ID &#x3D; this.$route.params.id</span><br><span class="line">      getTodo(&#123; id: ID &#125;).then(res &#x3D;&gt; &#123;</span><br><span class="line">        &#x2F;&#x2F; 根据当前所在待办事项的id获得待办事项详情</span><br><span class="line">        console.log(res)</span><br><span class="line">        let &#123;id, title, count, isDelete, locked, record&#125; &#x3D; res.data.todo</span><br><span class="line">        &#x2F;&#x2F; 请求成功，将record赋值给待办单项列表this.items</span><br><span class="line">        this.items &#x3D; record</span><br><span class="line">        &#x2F;&#x2F; 请求成功，将待办事项列表的详情数据赋给todo</span><br><span class="line">        this.todo &#x3D; &#123;</span><br><span class="line">          id: id,</span><br><span class="line">          title: title,</span><br><span class="line">          count: count,</span><br><span class="line">          isDelete: isDelete,</span><br><span class="line">          locked: locked</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang &#x3D; &quot;less&quot;&gt;</span><br><span class="line">@import &#39;..&#x2F;common&#x2F;style&#x2F;nav.less&#39;;</span><br><span class="line">@import &#39;..&#x2F;common&#x2F;style&#x2F;form.less&#39;;</span><br><span class="line">@import &#39;..&#x2F;common&#x2F;style&#x2F;todo.less&#39;;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<h2 id="修改路由"><a href="#修改路由" class="headerlink" title="修改路由"></a>修改路由</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">...</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Router(&#123;</span><br><span class="line">  routes: [&#123;</span><br><span class="line">    path: <span class="string">'/'</span>,</span><br><span class="line">    name: <span class="string">'Layouts'</span>,</span><br><span class="line">    component: Layouts,</span><br><span class="line">    children: [&#123;</span><br><span class="line">      path: <span class="string">'/todo/:id'</span>,</span><br><span class="line">      name: <span class="string">'todo'</span>,</span><br><span class="line">      component: todo</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="更新item-vue"><a href="#更新item-vue" class="headerlink" title="更新item.vue"></a>更新item.vue</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class&#x3D;&quot;list-item editingClass editing&quot;&gt; &lt;!-- 最外层容器--&gt;</span><br><span class="line">    &lt;label class&#x3D;&quot;checkbox&quot;&gt; &lt;!--自定义的多选框--&gt;</span><br><span class="line">      &lt;input type&#x3D;&quot;checkbox&quot; v-model&#x3D;&quot;item.checked&quot;&gt; &lt;!--item.checked--&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;checkbox-custom&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;label&gt;</span><br><span class="line">    &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;item.text&quot;&gt;  &lt;!--绑定item.text--&gt;</span><br><span class="line">    &lt;a class&#x3D;&quot;delete-item&quot;&gt; &lt;!--删除图标--&gt;</span><br><span class="line">      &lt;span class&#x3D;&quot;icon-trash&quot;&gt;&lt;&#x2F;span&gt;</span><br><span class="line">    &lt;&#x2F;a&gt;</span><br><span class="line">  &lt;&#x2F;div&gt;</span><br><span class="line">&lt;&#x2F;template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">&#x2F;&#x2F; item是todo的子组件，他接受一个对象item，来进行处理</span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123; &#x2F;&#x2F; 子组件显式的用 props 选项声明它期待获得的数据,这里申明 它想要一个叫做 &#39;item&#39;的数据。</span><br><span class="line">    item: &#123;</span><br><span class="line">      type: Object,</span><br><span class="line">      default: () &#x3D;&gt; &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">          checked: false,</span><br><span class="line">          text: &#39;你好,世界&#39;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;&#x2F;script&gt;</span><br><span class="line">&lt;style lang&#x3D;&quot;less&quot;&gt;</span><br><span class="line">@import &#39;..&#x2F;common&#x2F;style&#x2F;list-items.less&#39;;</span><br><span class="line">&lt;&#x2F;style&gt;</span><br></pre></td></tr></table></figure>
<h1 id="vuex改造项目并完成剩余交互"><a href="#vuex改造项目并完成剩余交互" class="headerlink" title="vuex改造项目并完成剩余交互"></a>vuex改造项目并完成剩余交互</h1><p>我们知道，在这个项目中的menu.vue与todo.vue不是父子组件的关系，而我们想让他们共享一组数据并且互相通信，除了，将数据放在他们共同的父组件中，然后再相互传递数据，我们还可以用vuex。Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p>
<h2 id="安装vuex"><a href="#安装vuex" class="headerlink" title="安装vuex"></a>安装vuex</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex --save</span><br></pre></td></tr></table></figure>
<h2 id="新建src-vuex-store-js"><a href="#新建src-vuex-store-js" class="headerlink" title="新建src/vuex/store.js"></a>新建src/vuex/store.js</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> Vuex <span class="keyword">from</span> <span class="string">'vuex'</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> actions <span class="keyword">from</span> <span class="string">'./actions.js'</span> <span class="comment">// gettes，actions，mutations，state在另外的文件定义，容易维护</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> getters <span class="keyword">from</span> <span class="string">'./getters'</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> mutations <span class="keyword">from</span> <span class="string">'./mutaitions'</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> state <span class="keyword">from</span> <span class="string">'./state'</span></span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建store实例并且导出</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> Vuex.Store(&#123;</span><br><span class="line">  actions,</span><br><span class="line">  getters,</span><br><span class="line">  state,</span><br><span class="line">  mutations</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="新建src-vuex-state-js"><a href="#新建src-vuex-state-js" class="headerlink" title="新建src/vuex/state.js"></a>新建src/vuex/state.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建初始应用的全局状态变量</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> state = &#123;</span><br><span class="line">  todoList: [] <span class="comment">// 我们待办事项的列表数据</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="新建src-vuex-mutations-js"><a href="#新建src-vuex-mutations-js" class="headerlink" title="新建src/vuex/mutations.js"></a>新建src/vuex/mutations.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> mutations = &#123;</span><br><span class="line">  EDITTODE (state, data) &#123; <span class="comment">// 定义mutation操作用于改变todoList的值</span></span><br><span class="line">    state.todoList = data</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="新建src-vuex-getters-js"><a href="#新建src-vuex-getters-js" class="headerlink" title="新建src/vuex/getters.js"></a>新建src/vuex/getters.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getTodoList = <span class="function"><span class="params">state</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> state.todoList <span class="comment">// 派生状态下的todoList</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="新建src-vuex-actions-js"><a href="#新建src-vuex-actions-js" class="headerlink" title="新建src/vuex/actions.js"></a>新建src/vuex/actions.js</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;getTodoList&#125; <span class="keyword">from</span> <span class="string">'../api/api'</span> <span class="comment">// 引入接口函数getTodoList，用于请求最新的待办事项列表数据</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> getTodo = (&#123;</span><br><span class="line">  commit</span><br><span class="line">&#125;) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 调用getTodo这个函数的时候，会调用ajax请求函数，函数返回值后，在调用store.js里定义的mutations里的</span></span><br><span class="line">    <span class="comment">// EDITTODE方法，并且把值传给EDITTODE</span></span><br><span class="line">    getTodoList().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">      commit(<span class="string">'EDITTODE'</span>, res.data.todos) <span class="comment">// 将返会值的todos传给EDITTODE</span></span><br><span class="line">      resolve()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="在main-js中注入vuex的store配置"><a href="#在main-js中注入vuex的store配置" class="headerlink" title="在main.js中注入vuex的store配置"></a>在main.js中注入vuex的store配置</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The Vue build version to load with the `import` command</span></span><br><span class="line"><span class="comment">// (runtime-only or standalone) has been set in webpack.base.conf with an alias.</span></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span> <span class="comment">// 引入vue模块</span></span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./App'</span> <span class="comment">// 引入vue组件</span></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">'./router'</span> <span class="comment">// 引入路由</span></span><br><span class="line"><span class="keyword">import</span> Mock <span class="keyword">from</span> <span class="string">'./mock'</span> <span class="comment">// 引入mock插件</span></span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">'../vuex/store'</span></span><br><span class="line">Mock.start() <span class="comment">// 生成模拟数据与ajax请求的接口</span></span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* eslint-disable no-new */</span></span><br><span class="line"><span class="keyword">new</span> Vue(&#123; <span class="comment">// 创建一个Vue的根实例</span></span><br><span class="line">  el: <span class="string">'#app'</span>, <span class="comment">// 挂载id，这个实例下的所有内容都会在index.html的一个id为app的div下显示</span></span><br><span class="line">  router, <span class="comment">// 注入路由配置</span></span><br><span class="line">  store, <span class="comment">// 注入store配置</span></span><br><span class="line">  components: &#123; App &#125;, <span class="comment">// 配置根模板</span></span><br><span class="line">  template: <span class="string">'&lt;App/&gt;'</span> <span class="comment">// 注入组件</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/14/myVueProject1-todoList/" data-id="ckclm5gzr00010ww4hb860a1i" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-axios" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/12/axios/" class="article-date">
  <time datetime="2020-07-12T01:36:35.289Z" itemprop="datePublished">2020-07-12</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/12/axios/">axios</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="一、axios"><a href="#一、axios" class="headerlink" title="一、axios"></a>一、axios</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios是基于promise对ajax的一种封装</span><br><span class="line">ajax mvc</span><br><span class="line">axios mvvm</span><br></pre></td></tr></table></figure>

<h2 id="二、axios的基本使用"><a href="#二、axios的基本使用" class="headerlink" title="二、axios的基本使用"></a>二、axios的基本使用</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/12/axios/" data-id="ckclm5gzk00000ww4cpuhhdvz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/07/16/Vue/">Vue</a>
          </li>
        
          <li>
            <a href="/2020/07/15/webpack%E9%9D%A2%E8%AF%95/">webpack面试</a>
          </li>
        
          <li>
            <a href="/2020/07/15/JS07-%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0%E4%B8%8Epromise/">JS07-生成器函数与promise</a>
          </li>
        
          <li>
            <a href="/2020/07/15/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/">事件循环</a>
          </li>
        
          <li>
            <a href="/2020/07/15/canvas/">canvas</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>